<!DOCTYPE html>
	<html>
		<head>
			<title> Project::STIC Article generator </title>
			<meta charset='UTF-8'>
			<link rel="stylesheet" href="style.css">
		</head>
		
		<body>
		
			<h1> Project::STIC Article generator </h1>
			<h2> Fill in the blanks and press "finish" button. then Ctrl+S to save this website. </h2>
			<span> You must follow these to write template properly: </span>
			
			<ul>
				<li> When you fill blank 'nav' section, you can use these aliased marks to express 'unordered list'. </li>
				<ul>
					<li> - : Parent unordered list </li>
					<li> # : Child unordered list </li>
				</ul>
				<li> To create new line, type Backslash + Shift("|").
				<li> For example, type <b> '- Chemistry |# 16C-17C Chemistry |# 18C Chemistry |# 19C Chemistry' </b> at nav section. and then result is: <br> <br>
				<li> Chemistry
				<ul>
					<li> 16C-17C Chemistry </li>
					<li> 18C Chemistry </li>
					<li> 19C Chemistry </li>
				</ul> <br>
				<li> Only one parent unordered list can exists, while child unordered list has no limits. </li>
				<li> Make sure that SPACE in front of hyphen(-) and sharp(#) mark, while DO NOT SPACE in front of newline delimiter(|) </li>
				<li> If you need to insert HTML format, <b> you can. </b> But it's not recommended since this was developed for reduce writing time by avoiding type any HTML formats. </li>
				<li> Lastly, <b> Don't forget to thoroughly check if there's any mistake, and delete 'saved from urls:', modify CSS path correctly. </b> </li>
			</ul> <br>
			
			<div class="header">
				<input type="text" id="title" placeholder="Your title goes here."/> <br>
				Rank <input type="text" id="rank" placeholder="Rank goes here."/>
			</div>
			
			<div class="article">
				<input type="text" id="nav" placeholder="Your nav goes here" />
				<input type="text" placeholder="Your description goes here." />
			</div>
			
			<button id="finish" type="button" style="margin: 10px;">Finish</button>
			
			<script>
				var finButton = document.getElementById("finish");
				
				function formatNavList() {
					let nav = document.getElementById("nav");
					// Get string from 'nav' one by one(line), and process it.
					var navFormat = "<ul>";
					
					let lines = nav.value.split("|");
					for(let x = 0; x < lines.length; x++) {
						
						if(lines[x].charAt(0) == "-") {
							navFormat += "<li> <b>" + lines[x].slice(2) + "</b> </li>";
						} else if(lines[x].charAt(0) == "#") {
							navFormat += "<ul> <li> " + lines[x].slice(2) +" </li> </ul>";
						}
					}
					navFormat += "</ul>";
					
					return navFormat;
				}
				
				function autoFormatDesc() {
					let desc = document.getElementsByClassName("article")[0].lastElementChild;
					var descFormat = "";
					
					let lines = desc.value.split("|");
					for(let x = 0; x < lines.length; x++)
						descFormat += lines[x] + "<br>";
						
					return descFormat;
				}
				
				function finish() {
				
					let title = document.getElementById("title");
					let rank = document.getElementById("rank");
					let desc = autoFormatDesc();
					let nav = formatNavList();
					
					// Should be replaced to regex expression.
					document.body.innerHTML =
					"<div class=\"header\"> <h1>" + title.value + "</h1> <h2> Rank " + rank.value + "</h2> </div> <div class=\"article\">" + nav + "<div>" + desc + "</div>" + "</div>";
				}
				
				finButton.addEventListener("click", finish);
			</script>
		</body>
	</html>